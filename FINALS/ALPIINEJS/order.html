<!DOCTYPE html>
<html lang="en" x-data="posApp()" xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link rel="shortcut icon" href="images/icon.png" type="image/png">
  <title>POS System | Ember & Oak</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet"/>
  <script src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js" defer></script>
</head>
<body class="bg-gray-100 text-gray-800">
    <header class="bg-white shadow-md">
        <div class="container mx-auto px-4 py-4 flex justify-between items-center">
            <a href="index.html" class="flex items-center">
                <img src="images/icon.png" alt="Ember & Oak Logo" class="w-10 h-10 mr-2">
                <span class="text-2xl font-bold text-red-800">Ember & Oak</span>
            </a>
            <nav class="space-x-4">
                <a href="about.html" class="hover:text-red-700 font-medium">About</a>
                <a href="menu.html" class="hover:text-red-700 font-medium">Menu</a>
                <a href="contact.html" class="hover:text-red-700 font-medium">Contact</a>
            </nav>
        </div>
    </header>

    <section class="bg-cover bg-center h-96" style="background-image: url('https://images.unsplash.com/photo-1600891964599-f61ba0e24092');">
      <div class="bg-black bg-opacity-50 h-full flex items-center justify-center">
        <div class="text-center text-white">
          <h2 class="text-4xl font-bold mb-2">Welcome to Ember & Oak</h2>
          <p class="text-xl">Where wood fire meets flavor.</p>
        </div>
      </div>
    </section>

    <div class="container mx-auto p-4">
      <div class="flex">
        <!-- Menu -->
        <div class="w-2/3 pr-4">
          <h2 class="text-xl font-bold mb-4">Menu</h2>
          <div class="space-y-2">
            <template x-for="item in menuItems" :key="item.name">
              <div class="flex justify-between items-center bg-white p-2 rounded shadow">
                <div class="flex items-center space-x-2">
                  <img :src="item.image" class="w-12 h-12 object-cover rounded" :alt="item.name">
                  <div>
                    <div class="font-semibold" x-text="item.name"></div>
                    <div>₱<span x-text="item.price"></span></div>
                  </div>
                </div>
                <button @click="addOrder(item)" class="bg-blue-500 text-white px-3 py-1 rounded">Add</button>
              </div>
            </template>
          </div>
        </div>

        <!-- Order Summary -->
        <div class="w-1/3">
          <h2 class="text-xl font-bold mb-4">Order Summary</h2>
          <div class="border p-4 rounded space-y-2">
            <div class="space-y-2">
              <template x-for="order in orders" :key="order.name">
                <div class="flex justify-between items-center">
                  <div class="flex items-center space-x-2">
                    <img :src="order.image" class="w-10 h-10 object-cover rounded" :alt="order.name">
                    <span x-text="order.name"></span>
                  </div>
                  <span>₱<span x-text="order.price"></span></span>
                </div>
              </template>
            </div>
            <div><strong>Total:</strong> ₱<span x-text="total.toFixed(2)"></span></div>
            <input type="number" x-model.number="payment" placeholder="Enter payment" class="border p-2 w-full rounded"/>
            <button @click="processPayment" class="mt-2 w-full bg-green-500 text-white py-2 rounded">Pay</button>

            <div x-show="showSummary" class="mt-4">
              <p><strong>Balance:</strong> ₱<span x-text="total.toFixed(2)"></span></p>
              <p><strong>Change:</strong> ₱<span x-text="change.toFixed(2)"></span></p>
              <button @click="printReceipt" class="mt-2 w-full bg-blue-500 text-white py-2 rounded">Print Receipt</button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Receipt Modal -->
    <div x-show="showReceipt" class="fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center">
      <div class="bg-white p-6 rounded shadow-lg w-full max-w-md">
        <h2 class="text-2xl font-bold mb-4">Receipt</h2>
        <div class="space-y-2 mb-4">
          <template x-for="order in orders" :key="order.name">
            <div class="flex justify-between items-center">
              <span x-text="order.name"></span>
              <span>₱<span x-text="order.price"></span></span>
            </div>
          </template>
        </div>
        <p><strong>Total:</strong> ₱<span x-text="total.toFixed(2)"></span></p>
        <p><strong>Balance:</strong> ₱<span x-text="total.toFixed(2)"></span></p>
        <p><strong>Change:</strong> ₱<span x-text="change.toFixed(2)"></span></p>
        <button @click="closeReceipt" class="mt-4 w-full bg-red-500 text-white py-2 rounded">Close</button>
      </div>
    </div>

    <footer class="bg-red-800 text-white py-6 text-center">
        <p>&copy; 2025 Ember & Oak. All rights reserved.</p>
        <p>Visit us or order online to experience fire-grilled perfection.</p>
    </footer>

    <script>
      function posApp() {
        return {
          menuItems: [
            { name: "Oak-Smoked Ribeye", price: 799, image: "images/oak-smoked-ribeye.png" },
            { name: "Truffle Butter Sirloin", price: 649, image: "images/truffle-butter-sirloin.png" },
            { name: "BBQ Brisket Sandwich", price: 399, image: "images/BBQ-brisket-sandwich.png" },
            { name: "Grilled Salmon", price: 699, image: "images/grilled-salmon.png" },
            { name: "Vegetable Stir Fry", price: 299, image: "images/vegetable-stir-fry.png" },
            { name: "Spaghetti Carbonara", price: 499, image: "images/spag-carb.png" },
            { name: "Chicken Alfredo", price: 549, image: "images/chicken-alfredo.png" },
            { name: "Cheeseburger", price: 399, image: "images/cheeseburger.png" },
            { name: "Caesar Salad", price: 299, image: "images/caesar-salad.png" }
          ],
          orders: [],
          total: 0,
          payment: 0,
          change: 0,
          showSummary: false,
          showReceipt: false,

          addOrder(item) {
            this.orders.push(item);
            this.total += item.price;
          },
          processPayment() {
            if (isNaN(this.payment) || this.payment <= 0) {
              alert('Enter a valid payment amount.');
              return;
            }
            if (this.payment < this.total) {
              alert('Insufficient payment.');
              return;
            }
            this.change = this.payment - this.total;
            this.showSummary = true;
          },
          printReceipt() {
            this.showReceipt = true;
          },
          closeReceipt() {
            this.showReceipt = false;
            this.orders = [];
            this.total = 0;
            this.payment = 0;
            this.change = 0;
            this.showSummary = false;
          }
        }
      }
    </script>
</body>
</html>